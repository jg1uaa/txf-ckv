# Tiny Xfer File (TXF)

---
## 説明

IPv4 で構築されたプライベート (家庭内) LAN で使用することを前提とした、簡単なファイル転送プログラムです。

**公衆回線や、IPv6 環境での使用については考慮していません。**

こちらは超漢字版です。UNIX 版は https://github.com/jg1uaa/txf-unix を使用してください。


## 使用方法

```
% txf
txf [ipv4-addr] [port] [(filename to send)]
%
```

### 使用例: サーバからファイルを受信する

#### サーバ (送信側)

`[ipv4-addr]` にサーバが使用する IPv4 アドレスを記述します。

`[(filename to send)]` に転送するファイルを記述します。

サーバを先に立ち上げ、クライアントからの接続を待ちます。

```
% txf 192.168.0.1 9999 sendfile
```

ファイル転送が完了すると、サーバの動作は終了します。

#### クライアント (受信側)

`[ipv4-addr]` にサーバの IPv4 アドレスを記述します。

`[(filename to send)]` には*何も記述しません*。


```
% txf 192.168.0.1 9999
```

### 使用例: サーバへファイルを送信する

#### サーバ (受信側)

`[ipv4-addr]` にサーバが使用する IPv4 アドレスを記述します。

`[port]` にポート番号を負数で記述します。

`[(filename to send)]` には*何も記述しません*。

サーバを先に立ち上げ、クライアントからの接続を待ちます。

```
% txf 192.168.0.1 -9999
```

ファイル転送が完了すると、サーバの動作は終了します。

#### クライアント (受信側)

`[ipv4-addr]` にサーバの IPv4 アドレスを記述します。

`[port]` にポート番号を負数で記述します。

`[(filename to send)]` に転送するファイルを記述します。

```
% txf 192.168.0.1 -9999 sendfile
```

## 制限事項

- IPv6 非対応です
- 名前解決は行いません
- 転送可能なファイルの上限は 0x7fffffff バイトです
- ファイル名の長さは ASCII で 20 文字までです (ASCII の範囲外は '_' に置換します)
- タイムスタンプ非対応です
- 受信したファイルのレコードタイプは 1 (TAD 主レコード) 固定です
- 送信する対象は
    - ファイルの先頭側に存在する、レコードタイプ 1 (TAD 主レコード) のもの
    - TAD 主レコードが存在しない場合は、ファイルの先頭 (0 番目) にあるレコード

これらを改善する予定はありません。

## ライセンス

WTFPL (http://www.wtfpl.net/) に準拠します。
